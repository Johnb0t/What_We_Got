<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	


	<h2>Ingredients</h2>

      <form id="ingredients-form">

        <h2>meats</h2>
        <input type="checkbox" name="Int" value="chicken"><span>chicken</span></input>
        <input type="checkbox" name="Int" value="beef"><span>beef</span></input>
        <input type="checkbox" name="Int" value="salmon"><span>salmon</span></input>
        <input type="checkbox" name="Int" value="pork"><span>pork</span></input>
        <br>
        <h2>fruits</h2>
        <input type="checkbox" name="Int" value="apples"><span>apples</span></input>
        <input type="checkbox" name="Int" value="bananas"><span>bananas</span></input>
        <input type="checkbox" name="Int" value="oranges"><span>oranges</span></input>
        <input type="checkbox" name="Int" value="grapes"><span>grapes</span></input>
        <br>
        <h2>vegetables</h2>
        <input type="checkbox" name="Int" value="carrots"><span>carrots</span></input>
        <input type="checkbox" name="Int" value="cabbage"><span>cabbage</span></input>
        <input type="checkbox" name="Int" value="lettuce"><span>lettuce</span></input>
        <input type="checkbox" name="Int" value="onion"><span>onion</span></input>
        <input type="checkbox" name="Int" value="potatoes"><span>potatoes</span></input>
        <input type="checkbox" name="Int" value="tomatoes"><span>tomatoes</span></input>
        <input type="checkbox" name="Int" value="corn"><span>corn</span></input>
        <input type="checkbox" name="Int" value="peppers"><span>peppers</span></input>
        <br>
        <h2>BREAD, CEREALS AND OTHER GRAIN PRODUCTS</h2>
        <input type="checkbox" name="Int" value="bread"><span>bread</span></input>
        <input type="checkbox" name="Int" value="cereal"><span>cereal</span></input>
        <input type="checkbox" name="Int" value="oatmeal"><span>oatmeal</span></input>
        <input type="checkbox" name="Int" value="pasta"><span>pasta</span></input>
        <input type="checkbox" name="Int" value="rice"><span>rice</span></input>
        <br>
        <h2>SEASONINGS</h2>
        <input type="checkbox" name="Int" value="salt"><span>salt</span></input>
        <input type="checkbox" name="Int" value="chicken broth"><span>Chicken Broth</span></input>
        <input type="checkbox" name="Int" value="beef broth"><span>beef broth</span></input>
        <input type="checkbox" name="Int" value="garlic powder"><span>garlic powder</span></input>
        <input type="checkbox" name="Int" value="ketchup"><span>ketchup</span></input>
        <input type="checkbox" name="Int" value="vinegar"><span>vinegar</span></input>
        <input type="checkbox" name="Int" value="italian seasoning"><span>italian seasoning</span></input>
        <input type="checkbox" name="Int" value="mustard"><span>mustard</span></input>
        <br>
         <h2>OILS</h2>
        <input type="checkbox" name="Int" value="olive oil"><span>Olive Oil</span></input>
        <input type="checkbox" name="Int" value="cooking oil"><span>cooking oil</span></input>
        <br>
         <h2>MILK AND MILK PRODUCTS</h2>
        <input type="checkbox" name="Int" value="cheese"><span>cheese</span></input>
        <input type="checkbox" name="Int" value="milk"><span>milk</span></input>
        <input type="checkbox" name="Int" value="yogurt"><span>yogurt</span></input>
        <input type="checkbox" name="Int" value="butter"><span>butter</span></input>
        <br>
        </br>
        <button type="submit" value="Get Values" >Submit</button>
    </form>

    <div id="api"></div>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
	<script type="text/javascript">

        var values = [];

        $("button").on("click", function(event) {
            event.preventDefault();

            var checkboxes = document.querySelectorAll("input[name=Int]:checked"), values = [];
            Array.prototype.forEach.call(checkboxes, function(el) {
                values.push(el.value);
            });
            console.log(values);
            // for(var i = 0; i < values.length-1; i++) {
            //     values[i] = values[i] + "+";
            // };
            var searchTerms = values.join("+");
            var queryString = "http://api.edamam.com/search?q=" + searchTerms + "&app_id=a99c054e&app_key=a6913d9b394ea2d13dbfe40ee6ef0621&from=0&to=10";
            // console.log(queryURL)
            testest(queryString)
            // return values;
        });
//------------------------------------------------------------------------------------------------------------------------------------

console.log(values);




//------------------------------------------------------------------------------------------------------------------------------------

            // var searchTest = "chicken+carrots+peppers";
function testest(queryString){
    console.log(queryString)
    $.ajax({
        url: queryString,
        method: "GET"
    }).done(function(object) {
        console.log(object.hits);

        var array = object.hits;

        var singleRecipe = $("<div>");

        for (var i = 0; i < array.length; i++) {
            // recipe name
            var recipeDiv = $("<h2>Recipe: " + array[i].recipe.label + "</h2>");
            singleRecipe.append(recipeDiv);

            // servings
            var servingsDiv = $("<div id='servings'><h3>Servings: " + array[i].recipe.yield + "</h3></div>");
            singleRecipe.append(servingsDiv);

            // calories
            var calories = array[i].recipe.calories;
            var caloriesDiv = $("<div id='calories'>");
            caloriesDiv.append("Calories: " + calories);
            singleRecipe.append(caloriesDiv);

            // cautions
            var cautions = array[i].recipe.cautions;
            // cautions.push("test");
            // cautions.push("test2");
            if (cautions.length == 0) {
                singleRecipe.append("<div id='cautions'><h3>No Cautions</h3></div>");
            } else {
                var cautionsDiv = $("<div id='cautions'>");
                var cautionsList = $("<ul id='caution_list'>Cautions:</ul>");
                for (var c = 0; c < cautions.length; c++) {
                    cautionsList.append("<li>" + cautions[c] + "</li>");
                };
                cautionsDiv.append(cautionsList);
                singleRecipe.append(cautionsDiv);
            };

            // diet labels
            var dietLabels = array[i].recipe.dietLabels;
            var dietLabelsDiv = $("<div id='diet_labels'>");
            var dietLabelsList = $("<ul id='diet_labels_list'><h3>Diet Labels</h3></ul>");
            for (var label = 0; label < dietLabels.length; label++) {
                dietLabelsList.append("<li>" + dietLabels[label] + "</li>");
            };
            dietLabelsDiv.append(dietLabelsList);
            singleRecipe.append(dietLabelsDiv);

            // digest
            // wtf am i looking at

            // health labels NOT DONE PROPERLY
            var healthLabels = array[i].recipe.healthLabels;
            var healthLabelsDiv = $("<div id='health_labels'>");
            var healthLabelsList = $("<ul id='health_labels_list'><h3>Health Labels</h2></ul>");
            for (var hLabels = 0; hLabels < healthLabels.length; hLabels++) {
                healthLabelsList.append("<li>" + healthLabels[hLabels] + "</li>");
            };
            healthLabelsDiv.append(healthLabelsList);
            singleRecipe.append(healthLabelsDiv);

            // recipe image
            var recipeImg = array[i].recipe.image;
            singleRecipe.append("<br><img src=" + recipeImg + ">");

            // ingredient lines
            var ingredients = array[i].recipe.ingredientLines;
            var ingredientsDiv = $("<div id='ingredients'>");
            var ingredientsList = $("<ul id='ingredients_list'>Ingredients:</ul>");
            for (var ingredient = 0; ingredient < ingredients.length; ingredient++) {
                ingredientsList.append("<li>" + ingredients[ingredient] + "</li>");
            };
            ingredientsDiv.append(ingredientsList);
            singleRecipe.append(ingredientsDiv);

            // ingredients
            // don't think this will be useful
            // gives ingredients again and also a key for weight this amount of ingredient will have

            // recipe source. link to get cooking instructions
            var recipeURL = array[i].recipe.url;
            var link = $("<a href=" + recipeURL + ">Cooking Instructions @ " + array[i].recipe.source + "</a>");
            singleRecipe.append(link);

            singleRecipe.append($("<p>=======================================================================</p>"));
        };

    $("#api").append(singleRecipe);
});
}




</script>
</body>
</html>